// ã™ã¹ã¦ã® @use ã¯ãƒ•ã‚¡ã‚¤ãƒ«ã®æœ¬å½“ã®å…ˆé ­ã«ï¼ã‚³ãƒ¡ãƒ³ãƒˆã‚‚OK
@use "bootstrap/scss/bootstrap";
@use "bootstrap-icons/font/bootstrap-icons";
@use "components/floating_button";
@use "components/neon_buttons" as *;
@use "custom_styles";
@use "index_logs";
@use "modal_styles";
@use "mobile_apps";
@use "application_index";
@use "new_html";
@use "playlist_music";
@use "show_html";
@use "profile_styles";
@use "nokori_styles";
@use "swal_flash_craft";
@use "music_player";
@use "notifications";
@use "notifications_modal";

// ğŸ”´ å¤–éƒ¨ãƒ†ãƒ¼ãƒCSSï¼ˆBootswatchç­‰ï¼‰ã¯èª­ã¿è¾¼ã¾ãªã„ï¼ˆç«¶åˆé˜²æ­¢ï¼‰
// @import url("...bootswatch...");  â† ä½¿ã‚ãªã„

.view-hidden {
  display: none !important;
  opacity: 0 !important;
  visibility: hidden !important;
  height: 0 !important;
  pointer-events: none !important;
}

/* è£œåŠ©ã‚¯ãƒ©ã‚¹ */
.mobile-only { display: none !important; }
.desktop-only { display: block !important; }

@media (max-width: 996px) {
  .desktop-only { display: none !important; }
  .mobile-only  { display: block !important; }
}

/* ãƒ¢ãƒ¼ãƒ€ãƒ«æ™‚ã‚‚ãƒ•ãƒƒã‚¿ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã¯å‰é¢ç¶­æŒ */
/* â˜… ã“ã“ï¼š:not(.super-search-open) ã‚’å¤–ã—ã¦ã€ãµã¤ã†ã« modal-open ã ã‘ã«ã™ã‚‹ */
body.modal-open #bottom-player {
  z-index: 20000 !important;
}

/* showãƒšãƒ¼ã‚¸ã®ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼é«˜ã•ï¼ˆå¾“æ¥ã©ãŠã‚Šï¼‰ */
body.playlist-show-page .bottom-player {
  position: fixed !important;
  bottom: 50px !important;
  left: 0 !important;
  right: 0 !important;
  z-index: 2000 !important;
}

@media (max-width: 996px) {
  html body .bottom-player {
    position: fixed !important;
    bottom: 80px !important;
    left: 0 !important;
    right: 0 !important;
    z-index: 2000 !important;
  }
}

/* ===== ãƒ¢ãƒã‚¤ãƒ«ï¼šãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆâ€œä¸€è¦§â€ãƒ¢ãƒ¼ãƒ€ãƒ«å†…ã¯å¿…ãšã‚¿ãƒƒãƒ—å¯ ===== */
#playlist-modal-mobile {
  #super-search-panel { pointer-events: auto !important; }
  #playlist-sidebar-home,
  .filter-box,
  a, button, .playlist-link { pointer-events: auto !important; }
}

/* ãƒ¢ãƒ¼ãƒ€ãƒ«ä¸­ã¯ãƒ•ãƒƒã‚¿ãƒ¼ãŒã‚¿ãƒƒãƒ—ã‚’å¥ªã‚ãªã„ */
.modal-open .mobile-footer { pointer-events: none; }

/* ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚«ãƒãƒ¼ã‚’éš ã—ã¦ã„ã‚‹æ™‚ã¯ã‚¿ãƒƒãƒ—é˜»å®³ãªã— */
#loading-overlay.view-hidden { pointer-events: none !important; }

/* ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼éè¡¨ç¤ºãƒ•ãƒ©ã‚° */
.no-player #bottom-player,
.no-player #hidden-sc-player { display: none !important; }

/* ãƒ•ãƒƒã‚¿ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼é«˜ã•ã®ä½™ç™½ */
:root { --footer-player-h: 84px; }
.emotion-log-show { padding-bottom: calc(var(--footer-player-h) + env(safe-area-inset-bottom, 0px)); }
body.no-player .emotion-log-show { padding-bottom: 0 !important; }

/* ãƒ¢ãƒã‚¤ãƒ«è©³ç´°ï¼šãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³èª¿æ•´ */
.emotion-log-show .pagination {
  position: static !important;
  inset: auto !important;
  float: none !important;
  display: flex;
  flex-wrap: wrap !important;
  justify-content: center !important;
  white-space: normal !important;
  gap: .25rem;
}

/* =========================================================
   â–¼â–¼ ã“ã“ãŒä»Šå›ã®ä¿®æ­£ãƒã‚¤ãƒ³ãƒˆ â–¼â–¼
   ã€Œview-switcher ã‚³ãƒ³ãƒ†ãƒŠãŒå­˜åœ¨ã™ã‚‹ãƒšãƒ¼ã‚¸é™å®šã€ã§
   ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—/ãƒ¢ãƒã‚¤ãƒ«ã®å¼·åˆ¶åˆ‡æ›¿ã‚’é©ç”¨ã™ã‚‹ã€‚
   ï¼ˆï¼ä»–ãƒšãƒ¼ã‚¸ã§ã¯ä¸€åˆ‡éš ã•ãªã„ â†’ ãƒ•ãƒƒã‚¿ãƒ¼ã ã‘ç¾è±¡ã‚’é˜²æ­¢ï¼‰
   ========================================================= */

/* ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ä½•ã‚‚ã—ãªã„ï¼ˆã‚°ãƒ­ãƒ¼ãƒãƒ«ã«ã¯éš ã•ãªã„ï¼‰ */
/* #desktop-view, #mobile-view ã¸ã®ã‚°ãƒ­ãƒ¼ãƒãƒ«æŒ‡å®šã¯ç½®ã‹ãªã„ */

/* view-switcher ãŒä»˜ä¸ã•ã‚ŒãŸãƒšãƒ¼ã‚¸ã ã‘åˆ‡æ›¿ */
[data-controller~="view-switcher"] #desktop-view { display: block; }
[data-controller~="view-switcher"] #mobile-view  { display: none; }

@media (max-width: 996px) {
  [data-controller~="view-switcher"] #desktop-view { display: none !important; }
  [data-controller~="view-switcher"] #mobile-view  { display: block !important; }

  /* â–¼ ãƒ¢ãƒã‚¤ãƒ«æ™‚ã€ãƒ¢ãƒã‚¤ãƒ«å´ã® .view-hidden ã‚’è§£é™¤ï¼ˆview-switcheré…ä¸‹ã®ã¿ï¼‰ */
  [data-controller~="view-switcher"] #mobile-view.view-hidden {
    display: block !important;
    opacity: 1 !important;
    visibility: visible !important;
    height: auto !important;
    pointer-events: auto !important;
  }
  [data-controller~="view-switcher"] #desktop-view.view-hidden {
    display: none !important;
  }

  /* è£œåŠ©ï¼ˆæ—¢å­˜ .mobile-only / .desktop-only ã¨æ•´åˆï¼‰ */
  .desktop-only { display: none !important; }
  .mobile-only  { display: block !important; }

  /* æ®‹ç•™ã—ã‚„ã™ã„ã‚«ãƒãƒ¼è¦ç´ ã®ç·Šæ€¥ç„¡åŠ¹åŒ–ã¯â€œæœ€ä½é™â€ */
  #loading-overlay,
  .modal-backdrop {
    display: none !important;
    opacity: 0 !important;
    visibility: hidden !important;
    pointer-events: none !important;
  }
}

/* â–¼ preloadã§çœŸã£é»’ã«ãªã‚‰ãªã„ä¿é™º */
html.preload body { visibility: visible !important; }

/* ==== ã“ã“ã‚ˆã‚Šä¸‹ã¯ã€ã‚ãªãŸã®æ—¢å­˜ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆãƒšãƒ¼ã‚¸å›ºæœ‰ãªã©ï¼‰ ==== */

/* ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ç­‰ï¼ˆã‚ãªãŸã®æ—¢å­˜CSSãŒã‚ã‚Œã°ãã®ã¾ã¾ï¼‰ */
.user-dropdown:hover .dropdown-menu { display: block; }

/* ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã®è£…é£¾ï¼ˆæ—¢å­˜ï¼‰ */
.pagination>li>a { border: none; color: #696969; }
.pagination>.active>a { background: #93c9ff; border-radius: 15px; }
.pagination>li>a:hover { border-radius: 15px; }

/* ã‚¢ãƒã‚¿ãƒ¼ç·¨é›†ï¼ˆæ—¢å­˜ï¼‰ */
.rounded-circle { border-radius: 50%; border: 2px solid #e600ff; box-shadow: 0 0 8px rgba(230,0,255,.6); }
#cropContainer { position: relative; width: 80px; height: 80px; overflow: hidden; border: 2px solid #ccc; }
#cropImage { position: absolute; top: 0; left: 0; user-select: none; -webkit-user-select: none; max-width: none; max-height: none; cursor: grab; }
#avatarPreviewInline { width: 80px; height: 80px; border-radius: 50%; object-fit: cover; }

/* ãƒ¢ãƒã‚¤ãƒ«ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚µãƒ¼ãƒï¼ˆæ—¢å­˜ï¼‰ */
.mobile-super-search-modal-content { background: #141824; color: #fff; border-radius: 18px; box-shadow: 0 4px 20px #0006; }
.mobile-form-label { font-size: 1.06em; font-weight: 600; margin-bottom: .5em; color: #c6f6fa; }
.mobile-form-select, .mobile-form-control {
  border-radius: 8px; background: #202d36; color: #fff; border: 1px solid #364b6b;
  padding: .55em .9em; font-size: 1em;
}
.mobile-form-autocomplete { position: relative; }
.mobile-tag-suggestions {
  position: absolute; top: 100%; left: 0; width: 100%; z-index: 9999; margin: 0;
  border-radius: 0 0 12px 12px; background: #232b3a; border: 1px solid #2b3d4d;
  box-shadow: 0 2px 16px #0014; max-height: 180px; overflow-y: auto;
}
.mobile-super-search-btn:hover { transform: scale(1.04); box-shadow: 0 0 24px #ae5cff80; }
.mobile-reset-btn { min-width: 92px; }

@media (max-width: 520px) {
  .mobile-super-search-modal-content { border-radius: 0; box-shadow: none; }
}


/* =========================================================
  â–¼â–¼ ãƒ¢ãƒã‚¤ãƒ«èƒŒæ™¯ã®å®‰å®šåŒ–ï¼ˆiOS Safariå¯¾ç­–è¾¼ã¿ï¼‰9/3å¯ã‚‹å‰ã«è¡Œã£ãŸ â–¼â–¼
  - èƒŒæ™¯ã‚’ body ã«è¨­å®šã—ã¦ã„ã‚‹å ´åˆã§ã‚‚ç¸®ã¿/ã‚¿ã‚¤ãƒ«åŒ–ã‚’é˜²ã
  - view-switcher é…ä¸‹ã®ã¿å‰¯ä½œç”¨ã‚’æœ€å°åŒ–
   ========================================================= */
@media (max-width: 996px) {
  /* ãƒ“ãƒ¥ãƒ¼ãƒãƒ¼ãƒˆã®é«˜ã•åŸºæº–ã‚’å®‰å®šã•ã›ã‚‹ */
  html, body {
    height: auto !important;
    min-height: 100% !important;
  }

  /* ãƒ¢ãƒã‚¤ãƒ«å´ã®ãƒ©ãƒƒãƒ‘ã‚’ç¢ºå®Ÿã«å…¨é«˜åŒ–ï¼†æ¨ªã¯ã¿å‡ºã—é˜²æ­¢ */
  [data-controller~="view-switcher"] #mobile-view {
    position: relative;
    min-height: 100vh;   /* æ—§ç«¯æœ«å‘ã‘ */
    min-height: 100dvh;  /* iOS 16+ï¼Android Chrome */
    overflow-x: hidden;
    background: transparent !important; /* ãƒ©ãƒƒãƒ‘ã«ä½™è¨ˆãªèƒŒæ™¯ãŒã‚ã‚Œã°ç„¡åŠ¹åŒ– */
  }

  /* èƒŒæ™¯ãŒ body ã«ã‚ã‚‹æƒ³å®šã®â€œæ±ç”¨â€å®‰å®šåŒ–ï¼ˆç”»åƒãƒ‘ã‚¹ã¯è§¦ã‚‰ãªã„ï¼‰ */
  body {
    background-attachment: scroll !important;  /* iOSã® fixed ãƒã‚°å›é¿ */
    background-size: cover !important;         /* å…¨é¢ã‚«ãƒãƒ¼ã§ç¸®ã¿é˜²æ­¢ */
    background-position: center center !important;
    background-repeat: no-repeat !important;   /* ã‚¿ã‚¤ãƒ«åŒ–é˜²æ­¢ */
  }

  /* ã‚‚ã— container å´ã«èƒŒæ™¯ãŒè¨­å®šã•ã‚Œã¦ã„ãŸå ´åˆã¯æ‰“ã¡æ¶ˆã—ã¦ãƒ©ãƒƒãƒ‘ã§è¦‹ã›ã‚‹ */
  [data-controller~="view-switcher"] #mobile-view .container,
  [data-controller~="view-switcher"] #mobile-view .mobile-content {
    background: transparent !important;
    background-image: none !important;
  }

  /* Safari ã®æç”»å®‰å®šã®å°æ‰‹å…ˆï¼ˆå‰¯ä½œç”¨ãªã—ï¼‰ */
  [data-controller~="view-switcher"] #mobile-view {
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    // transform: translateZ(0);
  }
}

/* ãƒ¢ãƒã‚¤ãƒ«å…¨é¢èƒŒæ™¯ã‚’ #mobile-view ã®æ“¬ä¼¼è¦ç´ ã§è¡¨ç¤ºï¼ˆfixedãƒã‚°å›é¿ï¼‰ */
@media (max-width: 996px) {
  [data-controller~="view-switcher"] #mobile-view::before {
    content: "";
    position: fixed;
    inset: 0;
    z-index: -1;
    /* ã“ã“ã«â€œä»Šä½¿ã£ã¦ã‚‹èƒŒæ™¯ç”»åƒâ€ã‚’æŒ‡å®šï¼ˆä¾‹ï¼šbodyã® background-image ã¨åŒã˜ã‚‚ã®ï¼‰ */
    background-image: inherit;          /* body ã¨åŒã˜æŒ‡å®šã‚’ç¶™æ‰¿ã§ãã‚‹ãªã‚‰ã“ã‚Œã§OK */
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    // transform: translateZ(0);  /* â† ã“ã“ã‚’æ¶ˆã™ or ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆ */
  }
}

/* ===== ãƒ¢ãƒã‚¤ãƒ«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å®‰å®šåŒ– è¿½åŠ ï¼ˆ9/3ï¼‰â€” ã“ã“ã‹ã‚‰ ===== */

/* 1) ä¸Šç«¯ã‚ªãƒ¼ãƒãƒ¼ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã®é€£é–ã‚’æ­¢ã‚ã‚‹ï¼ˆPull-to-RefreshæŠ‘æ­¢ï¼‰ */
html, body {
  overscroll-behavior-y: none;
}

/* 2) ãƒ¢ãƒã‚¤ãƒ«ãƒ©ãƒƒãƒ‘å›ºå®šã¯â€œãƒ­ã‚°ã‚¤ãƒ³æ™‚ã ã‘â€é©ç”¨ï¼ˆä¿®å¾©ï¼‰ */
body.logged-in [data-controller~="view-switcher"] #mobile-view {
  height: 100dvh;
  overflow: hidden;
}

/* æ—§ç«¯æœ«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆãƒ­ã‚°ã‚¤ãƒ³æ™‚ã®ã¿ï¼‰ */
@supports not (height: 100dvh) {
  body.logged-in [data-controller~="view-switcher"] #mobile-view { height: 100vh; }
}

/* 3) ãƒ•ãƒƒã‚¿ãƒ¼ã¨ä¸Šéƒ¨ãƒ˜ãƒƒãƒ€åˆ†ã‚’å¤‰æ•°åŒ–ï¼ˆå€¤ã¯å®ŸUIã«åˆã‚ã›ã¦èª¿æ•´ï¼‰ */
:root {
  --mobile-footer-h: 64px;    /* â† ãƒ•ãƒƒã‚¿ãƒ¼ã®å®Ÿé«˜ã•ã«åˆã‚ã›ã‚‹ï¼ˆä¾‹: 56ã€œ80pxï¼‰ */
  --mobile-headroom: 140px;   /* â† ãƒ­ã‚´/ã‚¿ã‚¤ãƒˆãƒ«/ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒãƒ¼ç­‰ã®ä¸Šéƒ¨ä½™ç™½åˆè¨ˆ */
}

/* â–¼ ãƒ­ã‚°ã‚¤ãƒ³å¾Œã‚¹ãƒãƒ›æ™‚ã®ãƒ˜ãƒƒãƒ€ä½™ç™½ã‚’ä¸­é–“ãã‚‰ã„ã«ï¼ˆ140px â†’ ãŠå¥½ã¿ã®å€¤ã«ï¼‰ */
@media (max-width: 996px) {
  body.logged-in { --mobile-headroom: 104px; }  /* ä¾‹ï¼š104pxã€‚å¥½ã¿ã«åˆã‚ã›ã¦å¾®èª¿æ•´OK */
}


/* 4) ãƒ•ãƒ¬ãƒ¼ãƒ å†…éƒ¨ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã¯â€œãƒ­ã‚°ã‚¤ãƒ³æ™‚ã ã‘â€ï¼ˆä¿®å¾©ï¼‰ */
body.logged-in [data-controller~="view-switcher"] turbo-frame#logs_list_mobile {
  display: block;
  height: calc(100dvh - var(--mobile-footer-h) - var(--mobile-headroom));
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior-y: contain; /* ä¸Šç«¯ã§ã®é€£é–ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’é®æ–­ */
}

/* ï¼ï¼ï¼ï¼ æœªãƒ­ã‚°ã‚¤ãƒ³ï¼ˆguestï¼‰ã¯â€œãƒšãƒ¼ã‚¸å…¨ä½“ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«â€ã¸ï¼ˆè¿½åŠ ï¼‰ ï¼ï¼ï¼ï¼ */
body.guest [data-controller~="view-switcher"] #mobile-view {
  height: auto;            /* ãƒ­ãƒƒã‚¯è§£é™¤ */
  min-height: 100dvh;      /* ç”»é¢ã¯æº€ãŸã™ */
  overflow-y: auto;        /* å…¨ä½“ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ« */
  -webkit-overflow-scrolling: touch;
}
body.guest [data-controller~="view-switcher"] turbo-frame#logs_list_mobile {
  height: auto;            /* å›ºå®šè§£é™¤ */
  overflow: visible;       /* è‡ªç„¶ãªç¸¦æµã— */
}

/* 5) å¿µã®ãŸã‚å†…éƒ¨ã®ãƒªã‚¹ãƒˆé ˜åŸŸã«ã‚‚é€£é–é®æ–­ */
[data-controller~="view-switcher"] .mobile-content {
  overscroll-behavior-y: contain;
}

/* 6) èª¤ã‚¿ãƒƒãƒ—è»½æ¸›ï¼ˆãƒ•ãƒƒã‚¿ãƒ¼ãƒŠãƒ“ï¼‰ */
.mobile-footer a,
.mobile-footer button {
  -webkit-user-select: none;
  user-select: none;
  touch-action: pan-y;
}

/* ã‚¹ãƒãƒ›è¡¨ç¤ºã§ãƒ•ãƒƒã‚¿ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ä¸€ç•ªä¸Šã«ç½®ã„ãŸå ´åˆã®è£œæ­£ */
/* ğŸ‘‡ ã“ã¡ã‚‰ã‚’è¿½åŠ ï¼ˆãƒ­ã‚°ã‚¤ãƒ³å¾Œã®ã¿ãƒ˜ãƒƒãƒ€åˆ†ã®ä½™ç™½ã‚’ç¢ºä¿ï¼‰*/
@media (max-width: 996px) {
  body.logged-in [data-controller~="view-switcher"] #mobile-view {
    padding-top: var(--mobile-headroom) !important;
  }

  /* ãƒ•ãƒ¬ãƒ¼ãƒ é«˜ã•ã¯æ—¢ã« --mobile-headroom ã‚’å¼•ã„ã¦ã„ã‚‹ã®ã§OKã€‚æ˜ç¤ºã—ã¦ãŠããªã‚‰å†æ²ï¼š */
  body.logged-in [data-controller~="view-switcher"] turbo-frame#logs_list_mobile {
    height: calc(100dvh - var(--mobile-footer-h) - var(--mobile-headroom));
  }

  /* ç«¯æœ«å¯¾å¿œã‚’å¼·ã‚ãŸã„å ´åˆï¼ˆä»»æ„ï¼‰ */
  @supports (height: 100svh) {
    body.logged-in [data-controller~="view-switcher"] #mobile-view { height: 100svh; }
    body.logged-in [data-controller~="view-switcher"] turbo-frame#logs_list_mobile {
      height: calc(100svh - var(--mobile-footer-h) - var(--mobile-headroom));
    }
  }
}



.footer-top {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 5000;
}


body.playlists .footer-flex,
body.playlists .mobile-footer {
  display: none;
}

/* ã‚‚ã—ä¸Šéƒ¨ãƒ•ãƒƒã‚¿ãƒ¼å›ºå®šã®ä½™ç™½ã‚’å–ã£ã¦ã‚‹ãªã‚‰ã€ãã‚Œã‚‚è§£é™¤ */
body.playlists #mobile-view {
  padding-top: 0;
  padding-bottom: 0;
  height: 100vh;
}


/* ã‚³ãƒ³ãƒ†ãƒŠã®ä¸¦ã³ã¨ä½™ç™½ï¼ˆãƒœã‚¿ãƒ³ä¸‹ã«é¦´æŸ“ã‚€ã‚ˆã†ã«ï¼‰ */
.bookmark-toolbar [data-controller="selection-counter"] {
  display: inline-flex;
  align-items: center;
  gap: .5rem;
  margin-top: .5rem;
}

/* ãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆã‚«ã‚¦ãƒ³ãƒˆè¡¨ç¤ºã®â€œç™½ãã¦ãƒªãƒƒãƒâ€ãªãƒãƒƒã‚¸ï¼ˆç™½å­—ã‚’å¼·åˆ¶ä¸Šæ›¸ãï¼‰ */
.bookmark-toolbar
  [data-controller="selection-counter"]
  [data-selection-counter-target="output"] {
  /* æ–‡å­—è‰²ã®å¼·åˆ¶ï¼ˆtext-mutedå¯¾ç­–ï¼‰ */
  color: #fff !important;
  -webkit-text-fill-color: #fff;   /* Safariå¯¾ç­– */
  text-shadow: 0 1px 1px rgba(0,0,0,.45);

  /* ãƒãƒƒã‚¸è¦‹ãŸç›® */
  font-weight: 700;
  font-size: .95rem;
  letter-spacing: .02em;
  padding: .35rem .6rem;
  border-radius: 999px;
  background: linear-gradient(180deg, rgba(238,234,234,.16), rgba(255,255,255,.08));
  border: 1px solid rgba(255,255,255,.28);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.12),
    0 2px 6px rgba(0,0,0,.20);
  backdrop-filter: saturate(120%) blur(2px);
  isolation: isolate;             /* èƒŒæ™¯ã®ãƒ–ãƒ¬ãƒ³ãƒ‰å½±éŸ¿ã‚’é®æ–­ï¼ˆå¿µã®ãŸã‚ï¼‰ */
}

/* spanã« .text-muted ãŒä»˜ã„ã¦ã„ã‚‹å ´åˆã‚‚ç¢ºå®Ÿã«ç™½ã¸ */
.bookmark-toolbar
  [data-controller="selection-counter"]
  [data-selection-counter-target="output"].text-muted {
  color: #fff !important;
  -webkit-text-fill-color: #fff;
}

/* ãƒ¢ãƒã‚¤ãƒ«å…¨ä½“ã‚’ç¸¦ãƒ•ãƒ¬ãƒƒã‚¯ã‚¹ã€‚é«˜ã•ã¯å‹•çš„vhã§ */
#mobile-view {
  display: flex;
  flex-direction: column;
  min-height: 100dvh; /* iOSå«ã‚å®‰å®š */
}

/* æœªãƒ­ã‚°ã‚¤ãƒ³ã®ãƒ’ãƒ¼ãƒ­ãƒ¼ï¼ãƒœã‚¿ãƒ³ï¼èª¬æ˜ãƒ–ãƒ­ãƒƒã‚¯ã‚’ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã•ã›ã‚‹å™¨ */
.mobile-guest-scroll {
  flex: 1 1 auto;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch; /* iOSæ…£æ€§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ« */
  padding-bottom: env(safe-area-inset-bottom, 16px);
}

/* ï¼ˆä»»æ„ï¼‰é•·ãƒœã‚¿ãƒ³ãŒæŠ˜ã‚Šè¿”ã—ã¦ã‚‚è¦‹åˆ‡ã‚Œãªã„ã‚ˆã†ã«å¾®èª¿æ•´ */
.mobile-guest-scroll .neon-btn-panel {
  padding: 8px 12px;
}

/* ï¼ˆä»»æ„ï¼‰å›ºå®šãƒ•ãƒƒã‚¿ãƒ¼ãŒã‚ã‚‹ç”»é¢ã¨å¹²æ¸‰ã—ãªã„ã‚ˆã†ã«â€¦æœªãƒ­ã‚°ã‚¤ãƒ³ã¯ãƒ•ãƒƒã‚¿ãƒ¼ãŒç„¡ã„ã®ã§OK */


/* === SoundCloud iframe ã‚’â€œè¦‹ãˆãªã„ã‘ã©æç”»ã¯ç¶šã‘ã‚‹â€çŠ¶æ…‹ã«ä¿ã¤ === */
#hidden-sc-player.sc-keepalive {
  position: fixed;
  left: -10000px; /* ç”»é¢å¤–ã¸é€€é¿ï¼ˆdisplay:none ã¯çµ¶å¯¾NGï¼‰ */
  top: 0;
  width: 1px;
  height: 1px;
  opacity: 0;
  pointer-events: none;
  /* ä¸‹ã®2è¡Œã§ã€ã©ã‚“ãªå¼·ã„ display:none ã‚‚ç„¡åŠ¹åŒ– */
  display: block !important;
  visibility: visible !important;
}

/* body ã« no-player ãŒä»˜ã„ã¦ã„ã¦ã‚‚ã€keepalive ä¸­ã¯æ¶ˆã•ãªã„ */
body.no-player #hidden-sc-player.sc-keepalive {
  display: block !important;
  visibility: visible !important;
}

/* å¿µã®ãŸã‚ï¼šèª¤ã£ã¦ .is-hidden ãŒä»˜ã„ã¦ã‚‚ iframe ã ã‘ã¯ç”Ÿã‹ã™ */
#hidden-sc-player.sc-keepalive.is-hidden {
  display: block !important;
  visibility: visible !important;
}

/* SoundCloud iframe ã‚’â€œè¦‹ã›ã‚‹â€çŠ¶æ…‹ï¼ˆiOSåˆå›ãƒãƒ³ãƒ‰ã‚·ã‚§ã‚¤ã‚¯ä¸­ï¼‰ */
#hidden-sc-player.sc-keepalive.sc-visible {
  left: 0 !important;
  top: auto !important;
  bottom: 0;                /* å¥½ã¿ã§ bottom: var(--footer-player-h, 0) ãªã© */
  width: 100% !important;
  height: 166px !important; /* SCã®æ¨™æº–é«˜ / å¿…è¦ãªã‚‰èª¿æ•´ */
  opacity: 1 !important;
  pointer-events: auto !important;
  z-index: 2147483647 !important; /* æœ€å‰é¢ã¸ */
}



/* ==== HOTFIX: notifications modal height ==== */
#notifications-modal .modal-body {
  /* å…±é€šã¯ 72vh ã«çµ±ä¸€ */
  max-height: 72vh !important;
}

@media (max-width:576px){
  #notifications-modal .modal-body {
    /* ã‚¹ãƒãƒ›ã§ã¯ 100dvh ã‹ã‚‰ãƒ˜ãƒƒãƒ€ãƒ¼ã¶ã‚“å¼•ã„ãŸé«˜ã• */
    max-height: calc(100dvh - 138px) !important;
  }
}


/* ==== PCç‰ˆï¼šæ„Ÿæƒ…è¨˜éŒ²ãƒ¢ãƒ¼ãƒ€ãƒ«ã®ä¸­èº«ã ã‘ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã•ã›ã‚‹ ==== */
@media (min-width: 768px) {
  .modal-emotion-body {
    /* ç”»é¢ã®é«˜ã•ã‹ã‚‰ã€ãƒ¢ãƒ¼ãƒ€ãƒ«ã®ä¸Šä¸‹ä½™ç™½ï¼‹ãƒ˜ãƒƒãƒ€ãƒ¼åˆ†ã‚’å¼•ã„ãŸé«˜ã• */
    max-height: calc(100vh - 200px);
    overflow-y: auto;
  }
}



/* ==== PCç‰ˆï¼š#modal-container ã®ãƒã‚ªãƒ³æ ã®ä¸­ã‚’é»’ãå¡—ã‚Šã¤ã¶ã™ ==== */
/* ==== PCç‰ˆï¼š#modal-container ã®æ ã®â€œå†…å´â€ã‚’å°‘ã—é€ã‘ãŸé»’ã§å¡—ã‚‹ ==== */
@media (min-width: 996px) {
  #modal-container,
  #modal-container.modal,
  #modal-container .modal-dialog,
  #modal-container .modal-dialog .modal-content,
  #modal-container .modal-dialog .modal-content .modal-body,
  #modal-container .modal-dialog .modal-content .modal-emotion-body {
    background-color: rgba(0, 0, 0, 0.85) !important;  /* 85% ã®æ¿ƒã•ã®é»’ */
    background-image: none !important;
  }
}



/* å…±é€šï¼šç·¨é›†ãƒ¢ãƒ¼ãƒ€ãƒ«ã® .modal-body ã‚’â€œã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«é ˜åŸŸâ€ã«ã™ã‚‹ */
#emotion-log-edit-modal .modal-body {
  max-height: 72vh;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

/* ã‚¹ãƒãƒ›ãƒ»ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆå¹…ï¼ˆ768px ä»¥ä¸‹ï¼‰ã®ã¨ã */
@media (max-width: 768px) {
  /* ãƒ¢ãƒ¼ãƒ€ãƒ«å…¨ä½“ã‚’ã€Œå°‘ã—å°ã•ã‚ã€ã«ã—ã¦ä¸Šä¸‹ã®ä½™ç™½ã‚’å¢—ã‚„ã™ */
  #emotion-log-edit-modal .modal-dialog {
    max-width: 100%;
    margin: 1.5rem 0.75rem; /* ä¸Šä¸‹ 1.5rem / å·¦å³ 0.75rem ã«ä½™ç™½ */
  }

  /* ãƒ¢ãƒ¼ãƒ€ãƒ«å…¨ä½“ã®é«˜ã•ä¸Šé™ã‚’â€œç”»é¢ã® 75%â€ã«ã™ã‚‹ï¼ˆ80 ã‚ˆã‚Šã•ã‚‰ã«ä½™è£•ï¼‰ */
  #emotion-log-edit-modal .modal-content {
    max-height: 75dvh;  /* â† ã“ã“ã‚’ 80dvh ã‹ã‚‰ 75dvh ã«å¤‰æ›´ */
  }

  /* å®Ÿéš›ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã™ã‚‹ã®ã¯ .modal-body éƒ¨åˆ† */
  #emotion-log-edit-modal .modal-body {
    max-height: calc(75dvh - 120px);
    /* â†‘ ãƒ˜ãƒƒãƒ€ãƒ¼ï¼‹ãƒœã‚¿ãƒ³åˆ†ã®é«˜ã•ã‚’ã–ã£ãã‚Š 120px ã¨ã—ã¦å¼•ã„ãŸå€¤ */

    overflow-y: auto;
    -webkit-overflow-scrolling: touch;

    /* ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã«è¢«ã‚‰ãªã„ã‚ˆã†ã«ä¸‹ã®ä½™ç™½ã‚’ã‹ãªã‚Šå¤§ãã‚ã«å–ã‚‹ */
    padding-bottom: 6rem;  /* â† 1.75rem ã‹ã‚‰å¢—ã‚„ã™ï¼šã“ã“ãŒã€Œä¸‹ã®ä½™ç™½ã€ */
  }

  /* ã‚¿ã‚¤ãƒˆãƒ«ã®ä½™ç™½ã‚’å°‘ã—ã ã‘è©°ã‚ã¦ã€çª®å±ˆæ„Ÿã‚’æ¸›ã‚‰ã™ */
  #emotion-log-edit-modal .modal-body h1.text-center.mt-4 {
    margin-top: 0.75rem;
    margin-bottom: 1rem;
  }
}


// ä¸Šæ›¸ãä¿®æ­£ï¼šãƒ¢ãƒã‚¤ãƒ«ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚µãƒ¼ãƒãƒ‘ãƒãƒ«ã® z-index ã‚’æœ€å‰é¢ã«
/* ===== Super Search ãŒé–‹ã„ã¦ã„ã‚‹é–“ã¯ bottom-player ã‚’é™æ ¼ã•ã›ã‚‹ ===== */
@media (max-width: 996px) {
  /* â˜… ã“ã“ï¼šsuper-search-open ãŒ body ã§ã‚‚ html ã§ã‚‚åŠ¹ãã‚ˆã†ã«ã™ã‚‹ */
  body.super-search-open #bottom-player,
  html.super-search-open body #bottom-player {
    z-index: 50 !important;           /* æ™®é€šã®è¦ç´ ã‚ˆã‚Šã¡ã‚‡ã„ä¸Šãã‚‰ã„ã«è½ã¨ã™ */
    pointer-events: none !important;  /* ã‚¿ãƒƒãƒ—ã‚‚å¥ªã‚ãªã„ã‚ˆã†ã«ã™ã‚‹ */
  }

  body.super-search-open #hidden-sc-player,
  html.super-search-open body #hidden-sc-player {
    pointer-events: none !important;  /* å¿µã®ãŸã‚ iframe å´ã‚‚ã‚¿ãƒƒãƒ—ä¸å¯ */
  }

  body.super-search-open #super-search-panel,
  html.super-search-open #super-search-panel,
  html.super-search-open body #super-search-panel {
    position: fixed !important;
    inset: 0 !important;              /* ç”»é¢å…¨ä½“ã‚’è¦†ã† */
    z-index: 25000 !important;        /* bottom-player ã‚ˆã‚Šå‰ã«å‡ºã™ */
    pointer-events: auto !important;
  }
}
