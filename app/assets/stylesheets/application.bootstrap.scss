// application.bootstrap.scss

// ã™ã¹ã¦ã® @use ã¯ãƒ•ã‚¡ã‚¤ãƒ«ã®æœ¬å½“ã®å…ˆé ­ã«ï¼ã‚³ãƒ¡ãƒ³ãƒˆã‚‚OK
@use "bootstrap/scss/bootstrap";
@use "components/floating_button";
@use "components/neon_buttons" as *;
@use "custom_styles";
@use "index_logs";
@use "modal_styles";
@use "mobile_apps";
@use "application_index";
@use "new_html";
@use "playlist_music";
@use "show_html";
@use "profile_styles";
@use "nokori_styles";
@use "swal_flash_craft";
@use "music_player";

// å¤–éƒ¨CSSã®ã¿ã¯ãã®ã‚ã¨
@import url("https://cdn.jsdelivr.net/npm/bootswatch@5.3.0/dist/cyborg/bootstrap.min.css");

.view-hidden {
  display: none !important;
  opacity: 0 !important;
  visibility: hidden !important;
  height: 0 !important;
  pointer-events: none !important;
}


// html.preload body { visibility: hidden; }


.mobile-only { display: none !important; }
.desktop-only { display: block !important; }

@media (max-width: 768px) {
  .desktop-only { display: none !important; }
  .mobile-only { display: block !important; }
}

body.modal-open #bottom-player {
  z-index: 20000 !important;
}


// showãƒšãƒ¼ã‚¸ã®ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼é«˜ã•
body.playlist-show-page .bottom-player {
  position: fixed !important;
  bottom: 50px !important;      /* ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—æ™‚ */
  left: 0 !important;
  right: 0 !important;
  z-index: 2000 !important;
}

@media (max-width: 996px) {
  html body .bottom-player {
    position: fixed !important;  // â† static ã‚’ã­ã˜ä¼ã›ã‚‹
    bottom: 80px !important;    // â† ä¸Šã«ãšã‚‰ã—ãŸã„å€¤
    left: 0 !important;
    right: 0 !important;
    z-index: 2000 !important;    // â† å¿…è¦ãªã‚‰
  }
}


/* ===== ãƒ¢ãƒã‚¤ãƒ«ï¼šãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆâ€œä¸€è¦§â€ãƒ¢ãƒ¼ãƒ€ãƒ«å†…ã¯å¿…ãšã‚¿ãƒƒãƒ—å¯ ===== */
#playlist-modal-mobile {
  #super-search-panel { pointer-events: auto !important; }
  #playlist-sidebar-home,
  .filter-box,
  a,
  button,
  .playlist-link {
    pointer-events: auto !important;
  }
}

/* ãƒ¢ãƒ¼ãƒ€ãƒ«ä¸­ã¯ãƒ•ãƒƒã‚¿ãƒ¼ãŒã‚¿ãƒƒãƒ—ã‚’å¥ªã‚ãªã„ã‚ˆã†ã«ï¼ˆå®‰å…¨ç­–ï¼‰ */
.modal-open .mobile-footer { pointer-events: none; }

/* ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚«ãƒãƒ¼ã‚’éš ã—ã¦ã„ã‚‹æ™‚ã¯ã‚¿ãƒƒãƒ—ã‚’é‚ªé­”ã—ãªã„ï¼ˆä¿é™ºï¼‰ */
#loading-overlay.view-hidden { pointer-events: none !important; }

/* === ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼éè¡¨ç¤ºãƒ•ãƒ©ã‚°ç”¨ï¼ˆå•ã„åˆã‚ã›ãƒ»ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›†ãªã©ï¼‰ === */
.no-player #bottom-player {
  display: none !important;
}

.no-player #hidden-sc-player {
  display: none !important;
}


/* ãƒ•ãƒƒã‚¿ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã®é«˜ã•ã¶ã‚“ã ã‘ä¸‹ã«ä½™ç™½ã‚’å¸¸ã«ç¢ºä¿ */
:root { --footer-player-h: 84px; } /* å®Ÿé«˜ã•ã«åˆã‚ã›ã¦ 76ã€œ96px ã§èª¿æ•´å¯ */

.emotion-log-show {
  padding-bottom: calc(var(--footer-player-h) + env(safe-area-inset-bottom, 0px));
}

/* ã‚‚ã— body ã« no-player ãŒä»˜ãã‚±ãƒ¼ã‚¹ãŒã‚ã‚Œã°ä½™ç™½ã‚¼ãƒ­ã«æˆ»ã™ï¼ˆä¿é™ºï¼‰ */
body.no-player .emotion-log-show {
  padding-bottom: 0 !important;
}

/* ===== ãƒ¢ãƒã‚¤ãƒ«è©³ç´°ãƒšãƒ¼ã‚¸ï¼šãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã®å›ºå®šåŒ–ã‚’ç¦æ­¢ & ä¸­å¤®å¯„ã› ===== */
.emotion-log-show .pagination {
  position: static !important;   /* fixed/sticky ã‚’ç„¡åŠ¹åŒ– */
  inset: auto !important;        /* top/right/bottom/left ã‚’ç„¡åŠ¹åŒ– */
  float: none !important;
  display: flex;
  flex-wrap: wrap !important;
  justify-content: center !important;
  white-space: normal !important;
  gap: .25rem;
}

/* =========================================================
   JSãŒè½ã¡ã¦ã‚‚ãƒ¢ãƒã‚¤ãƒ«ã‚’å¿…ãšè¡¨ç¤ºã•ã›ã‚‹ç·Šæ€¥ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
   - 768pxä»¥ä¸‹ã¯ #mobile-view ã‚’å¼·åˆ¶è¡¨ç¤º
   - .view-hidden ã®æŠ‘ãˆè¾¼ã¿ã‚‚å«ã‚€ï¼ˆopacity/visibilityç­‰ã‚‚åè»¢ï¼‰
   - preloadã®é»’ç”»é¢ã‚‚å¯è¦–åŒ–ã«ä¿®æ­£
   ========================================================= */

#desktop-view { display: block; }
#mobile-view  { display: none; }

@media (max-width: 768px) {
  /* â–¼ é€šå¸¸ã®åˆ‡æ›¿ï¼ˆãƒ¢ãƒã‚¤ãƒ«å¹…ã§ã¯å¿…ãšãƒ¢ãƒã‚¤ãƒ«ã‚’å‡ºã™ï¼‰ */
  #desktop-view { display: none !important; }
  #mobile-view  { display: block !important; }

  /* â–¼ view-switcher ç­‰ãŒ .view-hidden ã‚’ä»˜ã‘ã¦ã‚‚è¡¨ç¤ºãŒæ¶ˆãˆãªã„ã‚ˆã†ã«ä¸Šæ›¸ã */
  #mobile-view.view-hidden {
    display: block !important;
    opacity: 1 !important;
    visibility: visible !important;
    height: auto !important;
    pointer-events: auto !important;
  }
  #desktop-view.view-hidden {
    display: none !important;
  }

  /* â–¼ è£œåŠ©ã‚¯ãƒ©ã‚¹ã«ã‚‚ä¿é™ºï¼ˆæ—¢å­˜ã® .mobile-only / .desktop-only ã¨æ•´åˆï¼‰ */
  .desktop-only { display: none !important; }
  .mobile-only  { display: block !important; }
}

/* â–¼ preloadã§çœŸã£é»’ã®ã¾ã¾æ­¢ã¾ã‚‰ãªã„ã‚ˆã†ã«å¯è¦–åŒ–ã¸åè»¢ */
html.preload body { visibility: visible !important; }


/* =========================================================
   ãƒ¢ãƒã‚¤ãƒ«æ™‚ï¼š#mobile-viewé…ä¸‹ã‚„ãƒ¢ãƒã‚¤ãƒ«ç³»ã®ä¸­èº«ã‚‚å¿…ãšè¦‹ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹
   - .view-hidden ã‚’å¼·åˆ¶è§£é™¤
   - ã‚ˆãæ®‹ç•™ã™ã‚‹å…¨ç”»é¢ã‚«ãƒãƒ¼(#loading-overlay / .modal-backdrop)ã‚‚ç„¡åŠ¹åŒ–
   - #mobile-view ãƒ©ãƒƒãƒ‘ãŒç„¡ã„æ§‹æˆã§ã‚‚ .mobile-container/.mobile-index ã‚’æ•‘æ¸ˆ
   ========================================================= */
@media (max-width: 768px) {
  /* ä¸­èº«ã® .view-hidden ã‚’è§£é™¤ï¼ˆdisplay/opacity/visibility/height/pointerï¼‰ */
  #mobile-view .view-hidden,
  .mobile-container .view-hidden,
  .mobile-index .view-hidden {
    display: block !important;
    opacity: 1 !important;
    visibility: visible !important;
    height: auto !important;
    pointer-events: auto !important;
  }

  /* ãƒ¢ãƒã‚¤ãƒ«ç³»ã®ä¸»è¦ã‚³ãƒ³ãƒ†ãƒŠè‡ªä½“ã‚’å¿…ãšè¡¨ç¤ºï¼ˆãƒ©ãƒƒãƒ‘ãŒç„¡ã„å ´åˆã®ä¿é™ºï¼‰ */
  .mobile-container,
  .mobile-index,
  .emotion-log-show {
    display: block !important;
    min-height: 60vh !important;
  }

  /* æ®‹ç•™ã—ã‚„ã™ã„ã‚«ãƒãƒ¼è¦ç´ ã‚’ä¸€æ™‚çš„ã«ç„¡åŠ¹åŒ–ï¼ˆç·Šæ€¥å›é¿ï¼‰ */
  #loading-overlay,
  .modal-backdrop {
    display: none !important;
    opacity: 0 !important;
    visibility: hidden !important;
    pointer-events: none !important;
  }
}

/* =========================================================
   ğŸ”¥æœ€å„ªå…ˆãƒ¯ãƒ³ã‚·ãƒ§ãƒƒãƒˆï¼šiPhoneã§å¿…ãšä¸­èº«ã‚’è¡¨ç¤ºã™ã‚‹
   - ãƒ¢ãƒã‚¤ãƒ«å¹…ã§ã¯ .view-hidden ã‚’ã€Œå…¨åŸŸã§ã€ç„¡åŠ¹åŒ–
   - ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãƒ“ãƒ¥ãƒ¼ã¯å¼·åˆ¶éè¡¨ç¤ºã€ãƒ¢ãƒã‚¤ãƒ«ã¯å¼·åˆ¶è¡¨ç¤º
   - ã‹ã¶ã‚Šã‚„ã™ã„ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã¯ç„¡åŠ¹åŒ–
   ========================================================= */
@media (max-width: 768px) {
  /* 1) ã©ã®è¦ç´ ã«ä»˜ã„ã¦ã„ã¦ã‚‚ .view-hidden ã‚’ç„¡åŠ¹åŒ–ï¼ˆè¦ªã”ã¨æ®ºã—ã¦ã„ã‚‹ã‚±ãƒ¼ã‚¹ã‚’æ•‘ã†ï¼‰ */
  .view-hidden {
    display: block !important;
    opacity: 1 !important;
    visibility: visible !important;
    height: auto !important;
    pointer-events: auto !important;
  }

  /* 2) ãƒ“ãƒ¥ãƒ¼ã®å¼·åˆ¶åˆ‡æ›¿ï¼ˆJSãŒæ­»ã‚“ã§ã„ã¦ã‚‚ç¢ºå®Ÿã«å‡ºã™ï¼‰ */
  #desktop-view { display: none !important; }
  #mobile-view  { display: block !important; }

  /* 3) ç”»é¢ã‚’è¦†ã†æ®‹éª¸ã¯ç„¡åŠ¹åŒ–ï¼ˆçœŸã£é»’/ã‚¿ãƒƒãƒ—ä¸å¯ã‚’é˜²ãï¼‰ */
  #loading-overlay,
  #screen-cover-loading,
  .modal-backdrop,
  .offcanvas-backdrop {
    display: none !important;
    opacity: 0 !important;
    visibility: hidden !important;
    pointer-events: none !important;
  }
}

/* =========================================================
   å¼·åˆ¶è¡¨ç¤ºãƒ»æœ€çµ‚æ‰‹æ®µï¼ˆã‚¹ãƒãƒ›å¹…ï¼‰
   - Turbo Frame ã‚„ hidden å±æ€§ã‚‚å¯è¦–åŒ–
   ========================================================= */
@media (max-width: 768px) {
  /* ã™ã¹ã¦ã® hidden ã‚’å¯è¦–åŒ–ï¼ˆç·Šæ€¥ç”¨ï¼‰ */
  [hidden] {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    height: auto !important;
    pointer-events: auto !important;
  }

  /* Turbo Frame ã‚’å¿…ãšè¡¨ç¤º */
  turbo-frame#logs_list_mobile,
  #logs_list_mobile {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    height: auto !important;
    contain: none !important;
  }

  /* å¿µã®ãŸã‚ã€è¦ªã®åˆ‡æ›¿ã‚‚å›ºå®š */
  #desktop-view { display: none !important; }
  #mobile-view  { display: block !important; }
}
