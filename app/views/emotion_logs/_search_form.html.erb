<!-- app/views/emotion_logs/_search_form.html.erb -->
<div data-controller="search-music"
     data-search-music-target="section"
     class="p-4">

  <!-- ‚ë† „É≠„Éº„Éá„Ç£„É≥„Ç∞ÔºöNEON„Å†„Åë -->
  <div data-search-music-target="loading"
       class="text-center mb-3 is-hidden"
       role="status" aria-live="polite" aria-atomic="true" aria-label="Ê§úÁ¥¢‰∏≠">
    <span class="neon-wave" aria-hidden="true">
      <span>N</span><span>O</span><span>W</span><span>&nbsp;</span>
      <span>L</span><span>O</span><span>A</span><span>D</span><span>I</span><span>N</span><span>G</span>
      <span>.</span><span>.</span><span>.</span>
    </span>
  </div>

  <!-- ‚ë° Ê§úÁ¥¢„Éï„Ç©„Éº„É† -->
  <div class="input-group mb-3">
    <input type="text"
           class="form-control"
           placeholder="Êõ≤Âêç„ÇÑ„Ç¢„Éº„ÉÜ„Ç£„Çπ„ÉàÂêç„ÇíÂÖ•Âäõ"
           data-search-music-target="query">
    <button type="button"
            class="btn btn-primary"
            data-action="search-music#search">
      Ê§úÁ¥¢
    </button>
  </div>

  <!-- ‚ë¢ ÁµêÊûú„É™„Çπ„Éà -->
  <div data-search-music-target="results" class="list-group mb-3"></div>

  <!-- ‚ë£ Âüã„ÇÅËæº„Åø„Éó„É¨„Ç§„É§„ÉºÈ†òÂüü -->
  <div data-search-music-target="player" class="mb-3"></div>

  <!-- ‚ë§ Èö†„Åó„Éï„Ç£„Éº„É´„Éâ„ÉªÈÅ∏ÊäûÊõ≤Âêç -->
  <%= form_with(model: emotion_log, local: true) do |f| %>
    <%= f.hidden_field :music_url, data: { search_music_target: "audio" } %>
    <div class="mb-3">
      <%= f.label :track_name, "ÈÅ∏Êäû„Åó„ÅüÊõ≤Âêç" %>
      <%= f.text_field :track_name,
            class: "form-control",
            data: { search_music_target: "track" } %>
    </div>
    <div class="d-grid">
      <p class="text-success fw-bold">Êõ≤„ÅåÊ±∫„Åæ„Çã„Å®„ÅÑ„ÅÑ„Å≠üéµ</p>
    </div>
  <% end %>
</div>
